/*!
* Chart.js
* http://chartjs.org/
*
* Copyright 2013 Nick Downie
* Released under the MIT license
* https://github.com/nnnick/Chart.js/blob/master/LICENSE.md
*/window.Chart=function(n){function u(n,t,i){var r=t.steps*t.stepValue,u=n-t.graphMin,f=l(u/r,1,0);return i*t.steps*f}function f(n,t,i,r){function h(){var f=n.animation?l(o(u),null,0):1;k(r),n.scaleOverlay?(i(f),t()):(t(),i(f))}function f(){u+=e,h(),u<=1?a(f):typeof n.onAnimationComplete=="function"&&n.onAnimationComplete()}var e=n.animation?1/l(n.animationSteps,Number.MAX_VALUE,1):1,o=s[n.animationEasing],u=n.animation?0:1;typeof t!="function"&&(t=function(){}),a(f)}function h(n,t,i,r,u,f){function p(n){return Math.floor(Math.log(n)/Math.LN10)}var c,v,l,e,s,y,h,a;for(y=r-u,h=p(y),c=Math.floor(u/(1*Math.pow(10,h)))*Math.pow(10,h),v=Math.ceil(r/(1*Math.pow(10,h)))*Math.pow(10,h),l=v-c,e=Math.pow(10,h),s=Math.round(l/e);s<i||s>t;)s<i?(e/=2,s=Math.round(l/e)):(e*=2,s=Math.round(l/e));return a=[],o(f,a,s,c,e),{steps:s,stepValue:e,graphMin:c,labels:a}}function o(n,t,i,r,u){if(n)for(var f=1;f<i+1;f++)t.push(b(n,{value:(r+u*f).toFixed(ut(u))}))}function y(n){return Math.max.apply(Math,n)}function c(n){return Math.min.apply(Math,n)}function p(n,t){return n?n:t}function w(n){return!isNaN(parseFloat(n))&&isFinite(n)}function l(n,t,i){return w(t)&&n>t?t:w(i)&&n<i?i:n}function ut(n){return n%1!=0?n.toString().split(".")[1].length:0}function e(n,t){var r={},i;for(i in n)r[i]=n[i];for(i in t)r[i]=t[i];return r}function b(n,t){var i=/\W/.test(n)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+n.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):v[n]=v[n]||b(document.getElementById(n).innerHTML);return t?i(t):i}var r=this,s={linear:function(n){return n},easeInQuad:function(n){return n*n},easeOutQuad:function(n){return-1*n*(n-2)},easeInOutQuad:function(n){return(n/=1/2)<1?1/2*n*n:-1/2*(--n*(n-2)-1)},easeInCubic:function(n){return n*n*n},easeOutCubic:function(n){return 1*((n=n/1-1)*n*n+1)},easeInOutCubic:function(n){return(n/=1/2)<1?1/2*n*n*n:1/2*((n-=2)*n*n+2)},easeInQuart:function(n){return n*n*n*n},easeOutQuart:function(n){return-1*((n=n/1-1)*n*n*n-1)},easeInOutQuart:function(n){return(n/=1/2)<1?1/2*n*n*n*n:-1/2*((n-=2)*n*n*n-2)},easeInQuint:function(n){return 1*(n/=1)*n*n*n*n},easeOutQuint:function(n){return 1*((n=n/1-1)*n*n*n*n+1)},easeInOutQuint:function(n){return(n/=1/2)<1?1/2*n*n*n*n*n:1/2*((n-=2)*n*n*n*n+2)},easeInSine:function(n){return-1*Math.cos(n/1*(Math.PI/2))+1},easeOutSine:function(n){return 1*Math.sin(n/1*(Math.PI/2))},easeInOutSine:function(n){return-1/2*(Math.cos(Math.PI*n/1)-1)},easeInExpo:function(n){return n==0?1:1*Math.pow(2,10*(n/1-1))},easeOutExpo:function(n){return n==1?1:1*(-Math.pow(2,-10*n)+1)},easeInOutExpo:function(n){return n==0?0:n==1?1:(n/=1/2)<1?1/2*Math.pow(2,10*(n-1)):1/2*(-Math.pow(2,-10*--n)+2)},easeInCirc:function(n){return n>=1?n:-1*(Math.sqrt(1-(n/=1)*n)-1)},easeOutCirc:function(n){return 1*Math.sqrt(1-(n=n/1-1)*n)},easeInOutCirc:function(n){return(n/=1/2)<1?-1/2*(Math.sqrt(1-n*n)-1):1/2*(Math.sqrt(1-(n-=2)*n)+1)},easeInElastic:function(n){var t=1.70158,i=0,r=1;return n==0?0:(n/=1)==1?1:(i||(i=1*.3),r<Math.abs(1)?(r=1,t=i/4):t=i/(2*Math.PI)*Math.asin(1/r),-(r*Math.pow(2,10*(n-=1))*Math.sin((n*1-t)*2*Math.PI/i)))},easeOutElastic:function(n){var t=1.70158,i=0,r=1;return n==0?0:(n/=1)==1?1:(i||(i=1*.3),r<Math.abs(1)?(r=1,t=i/4):t=i/(2*Math.PI)*Math.asin(1/r),r*Math.pow(2,-10*n)*Math.sin((n*1-t)*2*Math.PI/i)+1)},easeInOutElastic:function(n){var t=1.70158,i=0,r=1;return n==0?0:(n/=1/2)==2?1:(i||(i=1*.3*1.5),r<Math.abs(1)?(r=1,t=i/4):t=i/(2*Math.PI)*Math.asin(1/r),n<1)?-.5*r*Math.pow(2,10*(n-=1))*Math.sin((n*1-t)*2*Math.PI/i):r*Math.pow(2,-10*(n-=1))*Math.sin((n*1-t)*2*Math.PI/i)*.5+1},easeInBack:function(n){var t=1.70158;return 1*(n/=1)*n*((t+1)*n-t)},easeOutBack:function(n){var t=1.70158;return 1*((n=n/1-1)*n*((t+1)*n+t)+1)},easeInOutBack:function(n){var t=1.70158;return(n/=1/2)<1?1/2*n*n*(((t*=1.525)+1)*n-t):1/2*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:function(n){return 1-s.easeOutBounce(1-n)},easeOutBounce:function(n){return(n/=1)<1/2.75?1*7.5625*n*n:n<2/2.75?1*(7.5625*(n-=1.5/2.75)*n+.75):n<2.5/2.75?1*(7.5625*(n-=2.25/2.75)*n+.9375):1*(7.5625*(n-=2.625/2.75)*n+.984375)},easeInOutBounce:function(n){return n<1/2?s.easeInBounce(n*2)*.5:s.easeOutBounce(n*2-1)*.5+1*.5}},t=n.canvas.width,i=n.canvas.height,a,v;window.devicePixelRatio&&(n.canvas.style.width=t+"px",n.canvas.style.height=i+"px",n.canvas.height=i*window.devicePixelRatio,n.canvas.width=t*window.devicePixelRatio,n.scale(window.devicePixelRatio,window.devicePixelRatio)),this.PolarArea=function(t,i){r.PolarArea.defaults={scaleOverlay:!0,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleShowLine:!0,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowLabelBackdrop:!0,scaleBackdropColor:"rgba(255,255,255,0.75)",scaleBackdropPaddingY:2,scaleBackdropPaddingX:2,segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,animation:!0,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,onAnimationComplete:null};var u=i?e(r.PolarArea.defaults,i):r.PolarArea.defaults;return new d(t,u,n)},this.Radar=function(t,i){r.Radar.defaults={scaleOverlay:!1,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleShowLine:!0,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!1,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowLabelBackdrop:!0,scaleBackdropColor:"rgba(255,255,255,0.75)",scaleBackdropPaddingY:2,scaleBackdropPaddingX:2,angleShowLineOut:!0,angleLineColor:"rgba(0,0,0,.1)",angleLineWidth:1,pointLabelFontFamily:"'Arial'",pointLabelFontStyle:"normal",pointLabelFontSize:12,pointLabelFontColor:"#666",pointDot:!0,pointDotRadius:3,pointDotStrokeWidth:1,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,animation:!0,animationSteps:60,animationEasing:"easeOutQuart",onAnimationComplete:null};var u=i?e(r.Radar.defaults,i):r.Radar.defaults;return new g(t,u,n)},this.Pie=function(t,i){r.Pie.defaults={segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,animation:!0,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,onAnimationComplete:null};var u=i?e(r.Pie.defaults,i):r.Pie.defaults;return new nt(t,u,n)},this.Doughnut=function(t,i){r.Doughnut.defaults={segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,percentageInnerCutout:50,animation:!0,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,onAnimationComplete:null};var u=i?e(r.Doughnut.defaults,i):r.Doughnut.defaults;return new tt(t,u,n)},this.Line=function(t,i){r.Line.defaults={scaleOverlay:!1,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,bezierCurve:!0,pointDot:!0,pointDotRadius:4,pointDotStrokeWidth:2,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,animation:!0,animationSteps:60,animationEasing:"easeOutQuart",onAnimationComplete:null};var u=i?e(r.Line.defaults,i):r.Line.defaults;return new it(t,u,n)},this.Bar=function(t,i){r.Bar.defaults={scaleOverlay:!1,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,animation:!0,animationSteps:60,animationEasing:"easeOutQuart",onAnimationComplete:null};var u=i?e(r.Bar.defaults,i):r.Bar.defaults;return new rt(t,u,n)};var k=function(n){n.clearRect(0,0,t,i)},d=function(n,r,e){function d(){a=c([t,i])/2,a-=y([r.scaleFontSize*.5,r.scaleLineWidth*.5]),l=r.scaleFontSize*2,r.scaleShowLabelBackdrop&&(l+=2*r.scaleBackdropPaddingY,a-=r.scaleBackdropPaddingY*1.5),b=a,l=p(l,5)}function g(){for(var u,f,n=0;n<s.steps;n++)r.scaleShowLine&&(e.beginPath(),e.arc(t/2,i/2,v*(n+1),0,Math.PI*2,!0),e.strokeStyle=r.scaleLineColor,e.lineWidth=r.scaleLineWidth,e.stroke()),r.scaleShowLabels&&(e.textAlign="center",e.font=r.scaleFontStyle+" "+r.scaleFontSize+"px "+r.scaleFontFamily,u=s.labels[n],r.scaleShowLabelBackdrop&&(f=e.measureText(u).width,e.fillStyle=r.scaleBackdropColor,e.beginPath(),e.rect(Math.round(t/2-f/2-r.scaleBackdropPaddingX),Math.round(i/2-v*(n+1)-r.scaleFontSize*.5-r.scaleBackdropPaddingY),Math.round(f+r.scaleBackdropPaddingX*2),Math.round(r.scaleFontSize+r.scaleBackdropPaddingY*2)),e.fill()),e.textBaseline="middle",e.fillStyle=r.scaleFontColor,e.fillText(u,t/2,i/2-v*(n+1)))}function nt(f){var h=-Math.PI/2,l=Math.PI*2/n.length,a=1,c=1,o;for(r.animation&&(r.animateScale&&(a=f),r.animateRotate&&(c=f)),o=0;o<n.length;o++)e.beginPath(),e.arc(t/2,i/2,a*u(n[o].value,s,v),h,h+c*l,!1),e.lineTo(t/2,i/2),e.closePath(),e.fillStyle=n[o].color,e.fill(),r.segmentShowStroke&&(e.strokeStyle=r.segmentStrokeColor,e.lineWidth=r.segmentStrokeWidth,e.stroke()),h+=c*l}function tt(){for(var i=Number.MIN_VALUE,r=Number.MAX_VALUE,u,f,t=0;t<n.length;t++)n[t].value>i&&(i=n[t].value),n[t].value<r&&(r=n[t].value);return u=Math.floor(b/(l*.66)),f=Math.floor(b/l*.5),{maxValue:i,minValue:r,maxSteps:u,minSteps:f}}var a,v,s,l,b,w,k;d(),w=tt(),k=r.scaleShowLabels?r.scaleLabel:null,r.scaleOverride?(s={steps:r.scaleSteps,stepValue:r.scaleStepWidth,graphMin:r.scaleStartValue,labels:[]},o(k,s.labels,s.steps,r.scaleStartValue,r.scaleStepWidth)):s=h(b,w.maxSteps,w.minSteps,w.maxValue,w.minValue,k),v=a/s.steps,f(r,g,nt,e)},g=function(n,r,e){function g(f){var l=2*Math.PI/n.datasets[0].data.length,o,h,c;for(e.save(),e.translate(t/2,i/2),o=0;o<n.datasets.length;o++){for(e.beginPath(),e.moveTo(0,f*-1*u(n.datasets[o].data[0],s,v)),h=1;h<n.datasets[o].data.length;h++)e.rotate(l),e.lineTo(0,f*-1*u(n.datasets[o].data[h],s,v));if(e.closePath(),e.fillStyle=n.datasets[o].fillColor,e.strokeStyle=n.datasets[o].strokeColor,e.lineWidth=r.datasetStrokeWidth,e.fill(),e.stroke(),r.pointDot)for(e.fillStyle=n.datasets[o].pointColor,e.strokeStyle=n.datasets[o].pointStrokeColor,e.lineWidth=r.pointDotStrokeWidth,c=0;c<n.datasets[o].data.length;c++)e.rotate(l),e.beginPath(),e.arc(0,f*-1*u(n.datasets[o].data[c],s,v),r.pointDotRadius,2*Math.PI,!1),e.fill(),e.stroke();e.rotate(l)}e.restore()}function nt(){var o=2*Math.PI/n.datasets[0].data.length,h,u,c,l,f,y,p;if(e.save(),e.translate(t/2,i/2),r.angleShowLineOut)for(e.strokeStyle=r.angleLineColor,e.lineWidth=r.angleLineWidth,h=0;h<n.datasets[0].data.length;h++)e.rotate(o),e.beginPath(),e.moveTo(0,0),e.lineTo(0,-a),e.stroke();for(u=0;u<s.steps;u++){if(e.beginPath(),r.scaleShowLine){for(e.strokeStyle=r.scaleLineColor,e.lineWidth=r.scaleLineWidth,e.moveTo(0,-v*(u+1)),c=0;c<n.datasets[0].data.length;c++)e.rotate(o),e.lineTo(0,-v*(u+1));e.closePath(),e.stroke()}r.scaleShowLabels&&(e.textAlign="center",e.font=r.scaleFontStyle+" "+r.scaleFontSize+"px "+r.scaleFontFamily,e.textBaseline="middle",r.scaleShowLabelBackdrop&&(l=e.measureText(s.labels[u]).width,e.fillStyle=r.scaleBackdropColor,e.beginPath(),e.rect(Math.round(-l/2-r.scaleBackdropPaddingX),Math.round(-v*(u+1)-r.scaleFontSize*.5-r.scaleBackdropPaddingY),Math.round(l+r.scaleBackdropPaddingX*2),Math.round(r.scaleFontSize+r.scaleBackdropPaddingY*2)),e.fill()),e.fillStyle=r.scaleFontColor,e.fillText(s.labels[u],0,-v*(u+1)))}for(f=0;f<n.labels.length;f++)e.font=r.pointLabelFontStyle+" "+r.pointLabelFontSize+"px "+r.pointLabelFontFamily,e.fillStyle=r.pointLabelFontColor,y=Math.sin(o*f)*(a+r.pointLabelFontSize),p=Math.cos(o*f)*(a+r.pointLabelFontSize),e.textAlign=o*f==Math.PI||o*f==0?"center":o*f>Math.PI?"right":"left",e.textBaseline="middle",e.fillText(n.labels[f],y,-p);e.restore()}function tt(){var u,f,o;for(a=c([t,i])/2,b=r.scaleFontSize*2,u=0,f=0;f<n.labels.length;f++)e.font=r.pointLabelFontStyle+" "+r.pointLabelFontSize+"px "+r.pointLabelFontFamily,o=e.measureText(n.labels[f]).width,o>u&&(u=o);a-=y([u,r.pointLabelFontSize/2*1.5]),a-=r.pointLabelFontSize,a=l(a,null,0),k=a,b=p(b,5)}function it(){for(var r=Number.MIN_VALUE,u=Number.MAX_VALUE,i,f,e,t=0;t<n.datasets.length;t++)for(i=0;i<n.datasets[t].data.length;i++)n.datasets[t].data[i]>r&&(r=n.datasets[t].data[i]),n.datasets[t].data[i]<u&&(u=n.datasets[t].data[i]);return f=Math.floor(k/(b*.66)),e=Math.floor(k/b*.5),{maxValue:r,minValue:u,maxSteps:f,minSteps:e}}var a,v,s,b,k,d,w;n.labels||(n.labels=[]),tt(),w=it(),d=r.scaleShowLabels?r.scaleLabel:null,r.scaleOverride?(s={steps:r.scaleSteps,stepValue:r.scaleStepWidth,graphMin:r.scaleStartValue,labels:[]},o(d,s.labels,s.steps,r.scaleStartValue,r.scaleStepWidth)):s=h(k,w.maxSteps,w.minSteps,w.maxValue,w.minValue,d),v=a/s.steps,f(r,nt,g,e)},nt=function(n,r,u){function h(f){var h=-Math.PI/2,l=1,a=1,e,c;for(r.animation&&(r.animateScale&&(l=f),r.animateRotate&&(a=f)),e=0;e<n.length;e++)c=a*n[e].value/o*Math.PI*2,u.beginPath(),u.arc(t/2,i/2,l*s,h,h+c),u.lineTo(t/2,i/2),u.closePath(),u.fillStyle=n[e].color,u.fill(),r.segmentShowStroke&&(u.lineWidth=r.segmentStrokeWidth,u.strokeStyle=r.segmentStrokeColor,u.stroke()),h+=c}for(var o=0,s=c([i/2,t/2])-5,e=0;e<n.length;e++)o+=n[e].value;f(r,null,h,u)},tt=function(n,r,u){function l(f){var e=-Math.PI/2,a=1,v=1,c,l;for(r.animation&&(r.animateScale&&(a=f),r.animateRotate&&(v=f)),c=0;c<n.length;c++)l=v*n[c].value/o*Math.PI*2,u.beginPath(),u.arc(t/2,i/2,a*s,e,e+l,!1),u.arc(t/2,i/2,a*h,e+l,e,!0),u.closePath(),u.fillStyle=n[c].color,u.fill(),r.segmentShowStroke&&(u.lineWidth=r.segmentStrokeWidth,u.strokeStyle=r.segmentStrokeColor,u.stroke()),e+=l}for(var o=0,s=c([i/2,t/2])-5,h=s*(r.percentageInnerCutout/100),e=0;e<n.length;e++)o+=n[e].value;f(r,null,l,u)},it=function(n,r,e){function tt(t){function h(i,r){return c-t*u(n.datasets[i].data[r],l,y)}function a(n){return s+v*n}for(var f,o,i=0;i<n.datasets.length;i++){for(e.strokeStyle=n.datasets[i].strokeColor,e.lineWidth=r.datasetStrokeWidth,e.beginPath(),e.moveTo(s,c-t*u(n.datasets[i].data[0],l,y)),f=1;f<n.datasets[i].data.length;f++)r.bezierCurve?e.bezierCurveTo(a(f-.5),h(i,f-1),a(f-.5),h(i,f),a(f),h(i,f)):e.lineTo(a(f),h(i,f));if(e.stroke(),r.datasetFill?(e.lineTo(s+v*(n.datasets[i].data.length-1),c),e.lineTo(s,c),e.closePath(),e.fillStyle=n.datasets[i].fillColor,e.fill()):e.closePath(),r.pointDot)for(e.fillStyle=n.datasets[i].pointColor,e.strokeStyle=n.datasets[i].pointStrokeColor,e.lineWidth=r.pointDotStrokeWidth,o=0;o<n.datasets[i].data.length;o++)e.beginPath(),e.arc(s+v*o,c-t*u(n.datasets[i].data[o],l,y),r.pointDotRadius,0,Math.PI*2,!0),e.fill(),e.stroke()}}function it(){var i,u;for(e.lineWidth=r.scaleLineWidth,e.strokeStyle=r.scaleLineColor,e.beginPath(),e.moveTo(t-a/2+5,c),e.lineTo(t-a/2-d-5,c),e.stroke(),w>0?(e.save(),e.textAlign="right"):e.textAlign="center",e.fillStyle=r.scaleFontColor,i=0;i<n.labels.length;i++)e.save(),w>0?(e.translate(s+i*v,c+r.scaleFontSize),e.rotate(-(w*(Math.PI/180))),e.fillText(n.labels[i],0,0),e.restore()):e.fillText(n.labels[i],s+i*v,c+r.scaleFontSize+3),e.beginPath(),e.moveTo(s+i*v,c+3),r.scaleShowGridLines&&i>0?(e.lineWidth=r.scaleGridLineWidth,e.strokeStyle=r.scaleGridLineColor,e.lineTo(s+i*v,5)):e.lineTo(s+i*v,c+3),e.stroke();for(e.lineWidth=r.scaleLineWidth,e.strokeStyle=r.scaleLineColor,e.beginPath(),e.moveTo(s,c+5),e.lineTo(s,5),e.stroke(),e.textAlign="right",e.textBaseline="middle",u=0;u<l.steps;u++)e.beginPath(),e.moveTo(s-3,c-(u+1)*y),r.scaleShowGridLines?(e.lineWidth=r.scaleGridLineWidth,e.strokeStyle=r.scaleGridLineColor,e.lineTo(s+d+5,c-(u+1)*y)):e.lineTo(s-.5,c-(u+1)*y),e.stroke(),r.scaleShowLabels&&e.fillText(l.labels[u],s-8,c-(u+1)*y)}function rt(){var i=1,u,f;if(r.scaleShowLabels){for(e.font=r.scaleFontStyle+" "+r.scaleFontSize+"px "+r.scaleFontFamily,u=0;u<l.labels.length;u++)f=e.measureText(l.labels[u]).width,i=f>i?f:i;i+=10}d=t-i-a,v=Math.floor(d/(n.labels.length-1)),s=t-a/2-d,c=b+r.scaleFontSize/2}function ut(){var u,f;for(p=i,e.font=r.scaleFontStyle+" "+r.scaleFontSize+"px "+r.scaleFontFamily,a=1,u=0;u<n.labels.length;u++)f=e.measureText(n.labels[u]).width,a=f>a?f:a;t/n.labels.length<a?(w=45,t/n.labels.length<Math.cos(w)*a?(w=90,p-=a):p-=Math.sin(w)*a):p-=r.scaleFontSize,p-=5,g=r.scaleFontSize,p-=g,b=p}function ft(){for(var r=Number.MIN_VALUE,u=Number.MAX_VALUE,i,f,e,t=0;t<n.datasets.length;t++)for(i=0;i<n.datasets[t].data.length;i++)n.datasets[t].data[i]>r&&(r=n.datasets[t].data[i]),n.datasets[t].data[i]<u&&(u=n.datasets[t].data[i]);return f=Math.floor(b/(g*.66)),e=Math.floor(b/g*.5),{maxValue:r,minValue:u,maxSteps:f,minSteps:e}}var p,y,l,g,b,k,nt,v,a,d,s,c,w=0;ut(),k=ft(),nt=r.scaleShowLabels?r.scaleLabel:"",r.scaleOverride?(l={steps:r.scaleSteps,stepValue:r.scaleStepWidth,graphMin:r.scaleStartValue,labels:[]},o(nt,l.labels,l.steps,r.scaleStartValue,r.scaleStepWidth)):l=h(b,k.maxSteps,k.minSteps,k.maxValue,k.minValue,nt),y=Math.floor(b/l.steps),rt(),f(r,it,tt,e)},rt=function(n,r,e){function it(t){var i,f,o;for(e.lineWidth=r.barStrokeWidth,i=0;i<n.datasets.length;i++)for(e.fillStyle=n.datasets[i].fillColor,e.strokeStyle=n.datasets[i].strokeColor,f=0;f<n.datasets[i].data.length;f++)o=l+r.barValueSpacing+v*f+nt*i+r.barDatasetSpacing*i+r.barStrokeWidth*i,e.beginPath(),e.moveTo(o,s),e.lineTo(o,s-t*u(n.datasets[i].data[f],a,p)+r.barStrokeWidth/2),e.lineTo(o+nt,s-t*u(n.datasets[i].data[f],a,p)+r.barStrokeWidth/2),e.lineTo(o+nt,s),r.barShowStroke&&e.stroke(),e.closePath(),e.fill()}function rt(){var i,u;for(e.lineWidth=r.scaleLineWidth,e.strokeStyle=r.scaleLineColor,e.beginPath(),e.moveTo(t-c/2+5,s),e.lineTo(t-c/2-d-5,s),e.stroke(),w>0?(e.save(),e.textAlign="right"):e.textAlign="center",e.fillStyle=r.scaleFontColor,i=0;i<n.labels.length;i++)e.save(),w>0?(e.translate(l+i*v,s+r.scaleFontSize),e.rotate(-(w*(Math.PI/180))),e.fillText(n.labels[i],0,0),e.restore()):e.fillText(n.labels[i],l+i*v+v/2,s+r.scaleFontSize+3),e.beginPath(),e.moveTo(l+(i+1)*v,s+3),e.lineWidth=r.scaleGridLineWidth,e.strokeStyle=r.scaleGridLineColor,e.lineTo(l+(i+1)*v,5),e.stroke();for(e.lineWidth=r.scaleLineWidth,e.strokeStyle=r.scaleLineColor,e.beginPath(),e.moveTo(l,s+5),e.lineTo(l,5),e.stroke(),e.textAlign="right",e.textBaseline="middle",u=0;u<a.steps;u++)e.beginPath(),e.moveTo(l-3,s-(u+1)*p),r.scaleShowGridLines?(e.lineWidth=r.scaleGridLineWidth,e.strokeStyle=r.scaleGridLineColor,e.lineTo(l+d+5,s-(u+1)*p)):e.lineTo(l-.5,s-(u+1)*p),e.stroke(),r.scaleShowLabels&&e.fillText(a.labels[u],l-8,s-(u+1)*p)}function ut(){var i=1,u,f;if(r.scaleShowLabels){for(e.font=r.scaleFontStyle+" "+r.scaleFontSize+"px "+r.scaleFontFamily,u=0;u<a.labels.length;u++)f=e.measureText(a.labels[u]).width,i=f>i?f:i;i+=10}d=t-i-c,v=Math.floor(d/n.labels.length),nt=(v-r.scaleGridLineWidth*2-r.barValueSpacing*2-(r.barDatasetSpacing*n.datasets.length-1)-(r.barStrokeWidth/2*n.datasets.length-1))/n.datasets.length,l=t-c/2-d,s=b+r.scaleFontSize/2}function ft(){var u,f;for(y=i,e.font=r.scaleFontStyle+" "+r.scaleFontSize+"px "+r.scaleFontFamily,c=1,u=0;u<n.labels.length;u++)f=e.measureText(n.labels[u]).width,c=f>c?f:c;t/n.labels.length<c?(w=45,t/n.labels.length<Math.cos(w)*c?(w=90,y-=c):y-=Math.sin(w)*c):y-=r.scaleFontSize,y-=5,g=r.scaleFontSize,y-=g,b=y}function et(){for(var r=Number.MIN_VALUE,u=Number.MAX_VALUE,i,f,e,t=0;t<n.datasets.length;t++)for(i=0;i<n.datasets[t].data.length;i++)n.datasets[t].data[i]>r&&(r=n.datasets[t].data[i]),n.datasets[t].data[i]<u&&(u=n.datasets[t].data[i]);return f=Math.floor(b/(g*.66)),e=Math.floor(b/g*.5),{maxValue:r,minValue:u,maxSteps:f,minSteps:e}}var y,p,a,g,b,k,tt,v,c,d,l,s,nt,w=0;ft(),k=et(),tt=r.scaleShowLabels?r.scaleLabel:"",r.scaleOverride?(a={steps:r.scaleSteps,stepValue:r.scaleStepWidth,graphMin:r.scaleStartValue,labels:[]},o(tt,a.labels,a.steps,r.scaleStartValue,r.scaleStepWidth)):a=h(b,k.maxSteps,k.minSteps,k.maxValue,k.minValue,tt),p=Math.floor(b/a.steps),ut(),f(r,rt,it,e)};a=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(n){window.setTimeout(n,1e3/60)}}(),v={}}